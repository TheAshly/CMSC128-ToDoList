<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/static/styles.css">
    <script src="https://kit.fontawesome.com/4ab18c6505.js" crossorigin="anonymous"></script>
    <title>To-do List</title>
</head>
<body>
    <div id="dark-overlay"></div>
    <!---
        Hello Keith, this will be the document you refer to when styling or making scripts. 
        Refer to static folder for images, stylesheets, and scripts. Make sure to put all 
        those on that folder, OR ELSE...    

        Below are key sections that you will need to style: header, todo-list (main),  
        modals, and toasts.

        Tasks: 
            - Sorting of the tasks 
            - Displaying and hiding the add, edit, and delete modals by button presses.
            - Displaying and hiding the toast after a certain amount of time
            - Styling of the document
    -->

    <!-- Make this image into a bg image -->


    <header>
        <hgroup>
            <h1>TODO APP</h1>
            <h2>An app that keeps track of all the tasks for you</h2>
        </hgroup>
    </header>


    <main class="todo-container">
        <section class="todo-header">
            <select class="sort-dropdown">                                  <!-- Must change tasks in class="task-list" when there is a change in the option in this dropdown -->                      
                <option>Sort by Date Added</option>                 
                <option>Sort by Date Due</option>
                <option>Sort by Priority</option>
            </select>
            <div id='new-task-btn' class="new-task-btn-container">
                <button class="new-task-btn">New Task +</button>           <!-- Opens Add Modal -->
            </div> 
        </section>  


        <!-- Pressing the edit and delete icons must open their respective modal :> with its row info/name :> -->
        <table class="tasks">
            <thead>
                <tr>
                    <td></td>
                    <td>TASKS</td>
                    <td>PRIORITY</td>
                    <td>DUE ON</td>
                    <td>ADDED AT</td>
                    <td></td>
                    <td></td>
                </tr>
            </thead>
            <tbody class="task-list">
                            <tr class="task-row ${(task['completed']) ? 'completed': '' } ">
                <td class="checkbox-container">
                    <i></i>
                </td>
                <td class="id" style="display: none;">1</td>
                <td><span class="name">sir rene</span></td>
                <td><span class="priority">medium</span></td>
                <td class="datetime-due">
                    <span class="date-due">2025-09-15</span> 
                    <span class="time-due">10:41</span>
                </td>
                <td class="datetime-added">
                    <span class="date-added">2025-09-15</span> 
                    <span class="time-added">10:41 </span>
                </td>
                </td>
                <td class="utils-edit">
                    <span class="fa-solid fa-pen-to-square edit-btn"></span>    
                </td>
                <td class="utils-delete">
                    <span class="fa-solid fa-trash delete-btn"></span>   
                </td>                 
            </tr>
            </tbody>
        </table>
    </main>

    <!-- All modals should be display:none at default -->
    <section id='add-container' class="add-task-modal-container">                      
        <form class="add-modal" action="/add-task" method="POST">
            <div class="modal-header">
                <h3>Add Task</h3>
                <div id='add-close-btn' class="close-btn">&times;</div>
            </div>
            <div class="input-fields">
                <div class="form-element">
                    <label>TASK NAME</label>
                    <input type="text" name="name" class="name-field" placeholder="Enter Name" required/>
                </div>
                <div class="lower-input-fields">
                    <div class="form-element">
                        <label>PRIORITY</label>
                        <select name="priority" class="priority-field" placeholder="Select Priority">
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    <div class="form-element">
                        <label>DUE DATE</label>
                        <input type="date" name="date-due" class="date-field" placeholder="Select Date" required/>
                    </div>
                    
                    <div class="form-element">
                        <label>DUE TIME</label>
                        <input type="time" name="time-due" class="time-field" placeholder="Select Time" required/>
                    </div>
                </div>
                <div class="form-elememt">
                    <button class="add-task-btn" type="submit">Add Task</button>
                </div>  
            </div>
        </form>
    </section>


    <section id="edit-container" class="edit-task-modal-container">
        <form class="edit-modal" action="/edit-task" method="post">
            <div class="modal-header">
                <h3>Edit Task</h3>
                <div id ="edit-close-btn" class="close-btn">&times;</div>
            </div>
            <div class="input-fields">
                <div class="form-element">
                    <label>TASK NAME</label>
                    <input type="text" name="name" class="name-field" placeholder="Enter Name" required/>
                </div>
                <div class="lower-input-fields">
                    <div class="form-element">
                        <label>PRIORITY</label>
                        <select name="priority" class="priority-field" placeholder="Select Priority">
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    <div class="form-element">
                        <label>DUE DATE</label>
                        <input type="date" name="date-due" class="date-field" placeholder="Select Date" required/>
                    </div>
                    
                    <div class="form-element">
                        <label>DUE TIME</label>
                        <input type="time" name="time-due" class="time-field" placeholder="Select Time" required/>
                    </div>
                </div>
                <div class="hidden-element" style="display: none;">
                    <input type="text" name="id" class="id-field"/>
                </div>
                <div class="form-elememt">
                    <button class="edit-task-btn" type="submit">Edit Task</button>
                </div>
            </div>
        </form>
    </section>


    <section id="delete-container" class="delete-task-modal-container">
        <div class="delete-modal">
           <div class="modal-header">   
                <h3>Confirm Delete</h3>
            </div>
            <div class="modal-body">
                Are you sure you want to delete the task <span class="task-name"></span>?
            </div>
            <div class="modal-buttons">
                <form class="delete-task-btn-container" action="/delete-task" method="post">
                    <div class="hidden-element" style="display: none;">
                        <input type="text" name="id" class="id-field"/>
                        <input type="text" name="name" class="name-field"/>
                    </div>
                    <button class="delete-task-btn" type="submit">Delete</button>
                </form>
                <div id ="cancel-btn" class="cancel-btn-container">              
                    <button class="cancel-btn">Cancel</button>
                </div>
            </div>
        </div>
    </section>

    <section class="toast-container">
        <div class="toast-header">
            <h3>Task Deleted Successfully</h3>
            <div class="close-btn">&times;</div>
        </div>
        <p>Task <span class="task-name"></span> has been deleted. If you want to undo this action, click undo delete.</p> 
        <div  class="toast-btn">
            <form action="/restore-task", method="post"></form>
                <button type="submit" class="restore-task">Undo Delete</button>
            </form>
         </div>
    </section>
</body>
<script src="/static/scripts.js"></script>
</html>