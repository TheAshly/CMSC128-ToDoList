<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/static/styles.css">
    <script src="https://kit.fontawesome.com/4ab18c6505.js" crossorigin="anonymous"></script>
    <title>To-do List</title>
</head>
<body>
    <!---
        Hello Keith, this will be the document you refer to when styling or making scripts. 
        Refer to static folder for images, stylesheets, and scripts. Make sure to put all 
        those on that folder, OR ELSE...    

        Below are key sections that you will need to style: header, todo-list (main),  
        modals, and toasts.
    -->

    <!-- Make this image into a bg image -->
    <img src="/static/images/sumeru.jpg"/> 


    <header>
        <hgroup>
            <h1>TODO APP</h1>
            <h2>An app that keeps track of all the tasks for you</h2>
        </hgroup>
    </header>


    <main class="todo-container">
        <section class="todo-header">
            <select class="sort-dropdown">                                  <!-- Must change tasks in class="task-list" when there is a change in the option in this dropdown -->                      
                <option>Date Added</option>                 
                <option>Date Due</option>
                <option>Priority</option>
            </select>
            <div class="new-task-btn-container">
                <button class="new-task-btn">New Task +</button>           <!-- Opens Add Modal -->
            </div> 
        </section>  


        <!-- Pressing the edit and delete icons must open their respective modal :> with its row info/name :> -->
        <table class="task-list">
            <thead>
                <tr>
                    <th>TASKS</th>
                    <th>PRIORITY</th>
                    <th>DUE ON</th>
                    <th>ADDED AT</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for task in tasks %}                    
                    <tr class="task-row">
                        <td class="name">{{task['name']}}</td>
                        <td class="priority">{{task['priority']}}</td>
                        <td class="datetime-due">{{task['date_due']}} {{task['time_due']}}</td>
                        <td class="datetime-added">{{task['date_added']}} {{task['time_added']}}</td>
                        <td class="utils">
                            <span class="fa-solid fa-pen-to-square edit-btn"></span>    
                            <span class="fa-solid fa-trash delete-btn"></span>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </main>

    <!-- All modals should be display:none at default -->
    <section class="add-task-modal-container">                      
        <form class="add-modal" action="/add-task" method="POST">
            <div class="modal-header">
                <h3>Add Task</h3>
                <div class="close-btn">&times;</div>
            </div>
            <div class="form-element">
                <label>TASK NAME</label>
                <input type="text" name="name" class="name-field" placeholder="Enter Name" required/>
            </div>
            <div class="form-element">
                <label>PRIORITY</label>
                <select name="priority" class="priority-field" placeholder="Select Priority">
                    <option value="high">High</option>
                    <option value="medium" selected>Medium</option>
                    <option value="low">Low</option>
                </select>
            </div>
            <div class="form-element">
                <label>DUE DATE</label>
                <input type="date" name="date-due" class="date-field" placeholder="Select Date" required/>
            </div>
            
            <div class="form-element">
                <label>DUE TIME</label>
                <input type="time" name="time-due" class="time-field" placeholder="Select Time" required/>
            </div>
            <div class="form-elememt">
                <button class="add-task-btn" type="submit">Add Task</button>
            </div>
        </form>
    </section>


    <section class="edit-task-modal-container">
        <form class="edit-modal">
            <div class="modal-header">
                <h3>Edit Task</h3>
                <div class="close-btn">&times;</div>
            </div>
            <div class="form-element">
                <label>TASK NAME</label>
                <input type="text" name="name" class="name-field" placeholder="Enter Name"/>
            </div>
            <div class="form-element">
                <label>PRIORITY</label>
                <select name="priority" class="priority-field" placeholder="Select Priority">
                    <option value="high">High</option>
                    <option value="medium" selected>Medium</option>
                    <option value="low">Low</option>
                </select>
            </div>
            <div class="form-element">
                <label>DUE DATE</label>
                <input type="date" name="date-due" class="date-field" placeholder="Select Date"/>
            </div>
            
            <div class="form-element">
                <label>DUE TIME</label>
                <input type="time" name="time-due" class="time-field" placeholder="Select Time"/>
            </div>
            <div class="form-elememt">
                <button class="edit-task-btn" type="submit">Edit Task</button>
            </div>
        </form>
    </section>


    <section class="delete-task-modal-container">
        <div class="delete-modal">
           <div class="modal-header">
                <h3>Confirm Delete</h3>
            </div>
            <div class="modal-body">
                Are you sure you want to delete the task ["Keith do squats"]?
            </div>
            <div class="modal-buttons">
                <form class="delete-task-btn-container">
                    <button class="delete-task-btn-container" type="submit">Delete</button>
                </form>
                <div class="cancel-btn-container">              
                    <button class="cancel-btn">Cancel</button>
                </div>
            </div>
        </div>
    </section>


    <section class="toast-container">
        <div class="toast-body">
            <h3>Task Deleted Successfully</h3>
            <p>Task Jebs has been deleted. If you want to undo this action, <a href="#">click here!</a></p>
        </div>
        <div class="close-btn">&times;</div>
    </section>
    
    <script src="/static/scripts.js"></script>
</body>
</html>